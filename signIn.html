<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h3>Login page</h3>
    <input placeholder="Enter Email" type="email" id="email" />
    <input placeholder="Enter password" type="password" id="password" />
    <button type="submit" onclick="login()">Login</button>
  </body>
  <script>
    async function login() {
      let lemail = document.getElementById("email").value;
      let lpassword = document.getElementById("password").value;
     // console.log(lemail, lpassword);
     let res = await fetch("http://localhost:3000/users");
     let data = await res.json();
     //console.log(data);
     let flag = false;
     data.forEach(function(ele,i){
        if(ele.email == lemail){
            if(ele.password ==lpassword){
                //it means user found
                flag = true
                localStorage.setItem("loginUser",JSON.stringify(ele));
                alert("Login Sucessful");
                window.location.href = "products.html";
            }else{
                alert("wrong password");
            }
        }
     })
     if(flag == false){
        alert("User Not Found , Please  Register");
     }
    }
  </script>
</html>
